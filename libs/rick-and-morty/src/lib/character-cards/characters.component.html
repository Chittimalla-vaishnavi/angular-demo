<div class="grid cards-container">
  @if(loading()) {
  <ng-container [ngTemplateOutlet]="loadingTpl" />
  } @else { @for (character of characters(); track character.id){

  <div class="col-6 md:col-4 lg:col-3">
    <p-card class="character-card" [style]="{ height: '100%' }">
      <ng-template #header>
        <p-image
          [src]="character.image"
          alt="Image"
          [preview]="true"
          class="character-image"
        />
      </ng-template>
      <ng-template #title> {{ character.name }} </ng-template>
      <ng-template #subtitle> {{ character.status }} </ng-template>

      <div>
        <p-chip style="margin-right: 8px" [label]="character.species" />
        <p-chip [label]="character.location.name" />
      </div>
    </p-card>
  </div>

  } }
</div>

<ng-template #loadingTpl>
  @for(i of [1,2,3,4,5,6,7,8]; track i) {
  <div class="col-6 md:col-4 lg:col-3">
    <p-card class="character-card" [style]="{ height: '400px' }">
      <ng-template #header>
        <p-skeleton class="character-image" width="100%" height="12rem" />
      </ng-template>

      <ng-template #title>
        <p-skeleton width="180px" height="20px" />
      </ng-template>
      <ng-template #subtitle>
        <p-skeleton width="100px" height="20px" />
      </ng-template>

      <div>
        <p-skeleton width="80px" height="20px" />
      </div>
    </p-card>
  </div>
  }
</ng-template>
