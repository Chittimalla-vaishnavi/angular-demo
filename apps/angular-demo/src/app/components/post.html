<div class="container">
  <div class="add-post-btn">
    <p-button
      label="Add Post"
      [raised]="true"
      severity="success"
      (click)="addPost()"
    />
  </div>
  <div class="card">
    <p-table [value]="posts" [tableStyle]="{'min-width': '60rem'}">
      <ng-template #header>
        <tr>
          <th pSortableColumn="code" style="width: 20%">
            <div class="flex items-center gap-2">
              Body
              <p-sortIcon field="code" />
            </div>
          </th>
          <th pSortableColumn="name" style="width: 20%">
            <div class="flex items-center gap-2">
              title
              <p-sortIcon field="name" />
            </div>
          </th>
          <th pSortableColumn="category" style="width: 20%">
            <div class="flex items-center gap-2">
              Produced By
              <p-sortIcon field="category" />
            </div>
          </th>
          <th pSortableColumn="quantity" style="width: 20%">
            <div class="flex items-center gap-2">Actions</div>
          </th>
        </tr>
      </ng-template>
      <ng-template #body let-post>
        <tr>
          <td>{{ post.body }}</td>
          <td>{{ post.title }}</td>
          <td>{{ post.user.name }}</td>
          <td>
            <div class="actions-btn">
              <p-button label="Edit" severity="info" (click)="onEditPost()" />
              <p-button
                label="Delete"
                severity="danger"
                (click)="onDeletePost()"
              />
            </div>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>

<!-- Add Post -->
<p-dialog [(visible)]="visible" header="Add Post" [style]="{width: '450px'}">
  <div class="form-group">
    <label for="title" class="form-label">Title</label>
    <input id="title" type="text" pInputText class="flex-1" />
  </div>
  <div class="form-group">
    <label for="body" class="form-label">Body</label>
    <input id="body" type="text" pInputText class="flex-1" />
  </div>
  <ng-template pTemplate="footer">
    <p-button
      label="Cancel"
      severity="secondary"
      (click)="visible = false"
    ></p-button>
    <p-button label="Save" (click)="visible = false"></p-button>
  </ng-template>
</p-dialog>

<!-- Edit Post -->
<p-dialog
  header="Edit Post"
  [modal]="true"
  [(visible)]="editPost"
  [style]="{ width: '25rem' }"
>
  <div class="form-group">
    <label for="body" class="form-label">Title</label>
    <input type="text" pInputText />
  </div>
  <div class="form-group">
    <label for="title" class="form-label">Body</label>
    <input type="text" pInputText />
  </div>
  <div class="add-post-action-btns">
    <p-button label="Cancel" severity="secondary" (click)="editPost = false" />
    <p-button label="Save" (click)="editPost = false" />
  </div>
</p-dialog>

<!-- Delete Post -->
<p-dialog
  header="Delete Post"
  [modal]="true"
  [(visible)]="deletePost"
  [style]="{ width: '25rem' }"
>
  <span class="p-text-secondary block mb-8"
    >Are you sure, you want to Delete?</span
  >
  <div class="add-post-action-btns">
    <p-button
      label="Cancel"
      severity="secondary"
      (click)="deletePost = false"
    />
    <p-button label="Delete" (click)="deletePost = false" />
  </div>
</p-dialog>
